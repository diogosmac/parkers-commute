{"mappings":"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","sources":["node_modules/dotenv/lib/main.js","node_modules/path-browserify/index.js","node_modules/os-browserify/browser.js","src/modules/CST.js","src/scenes/CreditsScene.js","src/modules/config.js","src/modules/LevelConfig.js","src/modules/Powerups.js","src/modules/Utils.js","src/modules/Level.js","src/scenes/DeferredScene.js","src/scenes/LevelScene.js","src/scenes/LoadScene.js","src/scenes/MenuScene.js","src/scenes/ModalEndOfLevelScene.js","src/scenes/ModalGameOverScene.js","src/scenes/ModalScene.js","src/scenes/ModalTransitionScene.js","src/main.js"],"sourcesContent":["const fs = require('fs')\nconst path = require('path')\nconst os = require('os')\n\nconst LINE = /(?:^|^)\\s*(?:export\\s+)?([\\w.-]+)(?:\\s*=\\s*?|:\\s+?)(\\s*'(?:\\\\'|[^'])*'|\\s*\"(?:\\\\\"|[^\"])*\"|\\s*`(?:\\\\`|[^`])*`|[^#\\r\\n]+)?\\s*(?:#.*)?(?:$|$)/mg\n\n// Parser src into an Object\nfunction parse (src) {\n  const obj = {}\n\n  // Convert buffer to string\n  let lines = src.toString()\n\n  // Convert line breaks to same format\n  lines = lines.replace(/\\r\\n?/mg, '\\n')\n\n  let match\n  while ((match = LINE.exec(lines)) != null) {\n    const key = match[1]\n\n    // Default undefined or null to empty string\n    let value = (match[2] || '')\n\n    // Remove whitespace\n    value = value.trim()\n\n    // Check if double quoted\n    const maybeQuote = value[0]\n\n    // Remove surrounding quotes\n    value = value.replace(/^(['\"`])([\\s\\S]*)\\1$/mg, '$2')\n\n    // Expand newlines if double quoted\n    if (maybeQuote === '\"') {\n      value = value.replace(/\\\\n/g, '\\n')\n      value = value.replace(/\\\\r/g, '\\r')\n    }\n\n    // Add to object\n    obj[key] = value\n  }\n\n  return obj\n}\n\nfunction _log (message) {\n  console.log(`[dotenv][DEBUG] ${message}`)\n}\n\nfunction _resolveHome (envPath) {\n  return envPath[0] === '~' ? path.join(os.homedir(), envPath.slice(1)) : envPath\n}\n\n// Populates process.env from .env file\nfunction config (options) {\n  let dotenvPath = path.resolve(process.cwd(), '.env')\n  let encoding = 'utf8'\n  const debug = Boolean(options && options.debug)\n  const override = Boolean(options && options.override)\n\n  if (options) {\n    if (options.path != null) {\n      dotenvPath = _resolveHome(options.path)\n    }\n    if (options.encoding != null) {\n      encoding = options.encoding\n    }\n  }\n\n  try {\n    // Specifying an encoding returns a string instead of a buffer\n    const parsed = DotenvModule.parse(fs.readFileSync(dotenvPath, { encoding }))\n\n    Object.keys(parsed).forEach(function (key) {\n      if (!Object.prototype.hasOwnProperty.call(process.env, key)) {\n        process.env[key] = parsed[key]\n      } else {\n        if (override === true) {\n          process.env[key] = parsed[key]\n        }\n\n        if (debug) {\n          if (override === true) {\n            _log(`\"${key}\" is already defined in \\`process.env\\` and WAS overwritten`)\n          } else {\n            _log(`\"${key}\" is already defined in \\`process.env\\` and was NOT overwritten`)\n          }\n        }\n      }\n    })\n\n    return { parsed }\n  } catch (e) {\n    if (debug) {\n      _log(`Failed to load ${dotenvPath} ${e.message}`)\n    }\n\n    return { error: e }\n  }\n}\n\nconst DotenvModule = {\n  config,\n  parse\n}\n\nmodule.exports.config = DotenvModule.config\nmodule.exports.parse = DotenvModule.parse\nmodule.exports = DotenvModule\n","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n","exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n","export const CST = {\n    SCENES: {\n        LOAD: 'LOAD',\n        MENU: 'MENU',\n        LEVEL: 'LEVEL',\n        DEFER: 'DEFER',\n        CREDITS: 'CREDITS',\n        MODAL: 'MODAL',\n        MODAL_T: 'MODAL_TRANSITION',\n        MULTIMODAL: 'MULTIMODAL',\n        MODAL_EOL: 'MODAL_END_OF_LEVEL',\n        MODAL_GAMEOVER: 'MODAL_GAMEOVER',\n    },\n    STYLES: {\n        BATTERY_PERCENTAGE: {\n            font: '500 16px Roboto',\n            fill: '#fff',\n        },\n        DEST_USES: {\n            font: '500 16px Roboto',\n            fill: '#fff',\n        },\n        FLAVOR_SMALL: {\n            font: '500 18px Roboto',\n            fill: '#fff',\n        },\n        FLAVOR_LARGE: {\n            font: '500 32px Roboto',\n            fill: '#fff',\n        },\n        END_OF_LEVEL: {\n            font: '500 24px Roboto',\n            fill: '#202020',\n        },\n    },\n    DEST: {\n        HOME: 'level_dest_home',\n        HOME_OUT: 'level_dest_home_out',\n        WORK: 'level_dest_work',\n        WORK_OUT: 'level_dest_work_out',\n        SUPERMARKET: 'level_dest_supermarket',\n        SUPERMARKET_OUT: 'level_dest_supermarket_out',\n        GYM: 'level_dest_gym',\n        GYM_OUT: 'level_dest_gym_out',\n        SELECTED: 'level_dest_selected',\n    },\n    LEVEL: {\n        BACKGROUND: 'level_bg',\n        BATTERY: {\n            FULL: 'level_battery_full_bar',\n            USABLE: 'level_battery_usable_bar',\n            USED: 'level_battery_used_bar',\n        },\n        ROUTE: {\n            OPEN: 'level_route_open',\n            CLOSED: 'level_route_closed',\n            BAR_EMPTY: 'level_route_bar_empty',\n            BAR_FULL: 'level_route_bar_full',\n            HOME: 'level_route_home',\n            WORK: 'level_route_work',\n            SUPERMARKET: 'level_route_supermarket',\n            GYM: 'level_route_gym',\n        },\n        GO: {\n            UNUSABLE: 'level_go_unusable',\n            USABLE: 'level_go_button'\n        },\n        LOAD: 'level_load_overlay',\n        POWERUPS: {\n            BAR: 'level_powerups_bar',\n            HOT: 'level_powerups_hot',\n            HEAT: 'level_powerups_heat',\n            COLD: 'level_powerups_cold',\n            COOL: 'level_powerups_cool',\n            DOUBLETIME: 'level_powerups_doubletime',\n            POWERDOWN: 'level_powerups_powerdown',\n            SELECTED: 'level_powerups_selected',\n            DISABLED: 'level_powerups_disabled',\n        }\n    },\n    ICONS: {\n        TEMPERATURE: 'level_temperature',\n        HUMIDITY: 'level_humidity',\n        BATTERY: 'level_battery',\n    },\n    PLACEHOLDER: {\n        MAP: 'level_map',\n        POWERUPS: 'level_powerups',\n    },\n    TITLE: {\n        BACKGROUND: 'title_bg',\n        PLAY: 'title_play_button',\n        OPTIONS: 'title_options_button',\n        CREDITS: 'title_credits_button',\n        MINI: 'title_mini'\n    },\n    CREDITS: {\n        TEXT: 'credits_text',\n        BUTTON: 'credits_button',\n    },\n    MOUSE: {\n        CLICK_RELEASE: 'pointerup',\n        CLICK: 'pointerdown',\n        HOVER: 'pointerover',\n        LEAVE: 'pointerout'\n    },\n    WEATHER: {\n        REGULAR: {\n            ICON: 'weather_regular',\n            HUMIDITY: 35,\n            TEMP: 20,\n        },\n        CHILL: {\n            ICON: 'weather_chill',\n            HUMIDITY: 70,\n            TEMP: 9,\n        },\n        COLD: {\n            ICON: 'weather_cold',\n            HUMIDITY: 85,\n            TEMP: -6,\n        },\n        HOT: {\n            ICON: 'weather_hot',\n            HUMIDITY: 0,\n            TEMP: 35,\n        },\n        WARM: {\n            ICON: 'weather_warm',\n            HUMIDITY: 10,\n            TEMP: 29,\n        },\n    },\n    ANIM: {\n        DURATION: 1000\n    },\n    MODALS: {\n        BG: 'modals_bg',\n        INTRO: 'modals_intro',\n        TUTORIAL_1: 'modals_tutorial_1',\n        TUTORIAL_2: 'modals_tutorial_2',\n        TUTORIAL_3: 'modals_tutorial_3',\n        POWERUPS_1: 'modals_powerups_1',\n        POWERUPS_2: 'modals_powerups_2',\n        POWERUPS_3: 'modals_powerups_3',\n        NOMOREHELP: 'modals_nomorehelp',\n        EOL: 'modals_end-of-level',\n        GAMEOVER_1: 'modals_end-of-game_1',\n        GAMEOVER_2: 'modals_end-of-game_2',\n        LEVEL_FAILED: 'modals_level-failed',\n        WAIT_LOAD: 'modals_wait-load',\n        NAV_L: 'modals_nav_l',\n        NAV_R: 'modals_nav_r',\n        BTN_INTRO: 'modals_btn_letsgo',\n        BTN_TUTORIAL: 'modals_btn_gotit',\n        BTN_POWERUPS: 'modals_btn_imready',\n        BTN_NOMOREHELP: 'modals_btn_nomorehelp',\n        BTN_EOL_BACK: 'modals_btn_eol_back',\n        BTN_EOL_ADVANCE: 'modals_btn_eol_advance',\n        BTN_MAINMENU: 'modals_btn_mainmenu',\n        BTN_TRYAGAIN: 'modals_btn_tryagain',\n        BTN_FINE: 'modals_btn_fine',\n    },\n    CALC: {\n        BASE: 376.59,\n        PREDICTED_DIST_TO_EMISSIONS: 122.3, // https://www.eea.europa.eu/data-and-maps/daviz/average-emissions-for-new-cars-7\n        PREDICTED_DIST_TO_FUEL: 7 / 100,    // https://www.iea.org/reports/fuel-consumption-of-cars-and-vans\n        PREDICTED_FUEL_TO_MONEY: 1.78,      // https://precoscombustiveis.dgeg.gov.pt/estatistica/preco-medio-diario/ - Visited: 19/08/2022\n        MARGIN: 0.01\n    },\n    POS: {\n        WEATHER: {\n            ICON: [53, 24],\n            HUMIDITY: {\n                ICON: [177, 64],\n                TEXT: [130 + 47/2, 59 + 35/2],\n            },\n            TEMPERATURE: {\n                ICON: [177, 29],\n                TEXT: [130 + 47/2, 24 + 35/2],\n            },\n        },\n        BATTERY: {\n            ICON: [53, 496],\n            TEXT: [105 + 67.55/2, 496 + 72/2],\n            BAR: [192, 513],\n            PERCENTAGE: [693.24 + 54.76/2, 513 + 37/2],\n        },\n        MAP: [142, 127],\n        POWERUPS: {\n            BAR: [52, 127],\n            X: 62.4,\n            Y: 137.4,\n            DELTA: 62.4,\n        },\n        ROUTE: {\n            BAR: [53, 437],\n            SLOT: [53, 409],\n            SLOT_GAP: 90,\n        },\n        GO: [593, 48],\n    }\n}","import { CST } from '../modules/CST'\n\nexport class CreditsScene extends Phaser.Scene {\n    constructor() {\n        super({\n            key: CST.SCENES.CREDITS\n        })\n    }\n    preload() {\n\n    }\n    create() {\n        this.add.image(0, 0, CST.TITLE.BACKGROUND).setOrigin(0).setDepth(0)\n        this.add.image(75, 41, CST.CREDITS.TEXT).setOrigin(0).setDepth(1)\n        const button = this.add.image(686, 46, CST.CREDITS.BUTTON).setOrigin(0).setDepth(2)\n        button.setInteractive()\n        button.on(CST.MOUSE.CLICK_RELEASE, () => {\n            this.scene.stop()\n        })\n    }\n}\n","require('dotenv').config({ silent: true })\n\nconst API_KEY = process.env.API_KEY\nconst API_URL = process.env.API_URL\n\nexport const CONFIG = {\n    API_KEY: API_KEY,\n    API_URL: API_URL,\n    ASSETS_URL: './assets',\n    LOCATIONS: {\n        HOME:           localStorage.getItem('home')    || 'Maia',\n        WORK:           localStorage.getItem('work')    || 'FEUP',\n        SUPERMARKET:    localStorage.getItem('market')  || 'Gaia Shopping',\n        GYM:            localStorage.getItem('gym')     || 'Solinca Ermesinde'\n    },\n}","import { CONFIG } from './config'\nimport { CST } from './CST'\nimport { LEVEL } from './Level'\n\nexport const LEVELCONFIG = {\n    NEXT: 1,\n\n    // DATA: flavor data for the level\n    // GAMEPLAY: gameplay elements for the level\n    // DESIRED_ROUTE: used to calculate battery capacity\n    LEVELS: {\n        1: {\n            DATA: {\n                WEATHER: CST.WEATHER.REGULAR,\n            },\n            GAMEPLAY: {\n                current_battery: '0%',\n                next_route: 1,\n                selected_route: null,\n                destinations: {\n                    'Home': {\n                        icon: CST.DEST.HOME,\n                        icon_out: CST.DEST.HOME_OUT,\n                        route: CST.LEVEL.ROUTE.HOME,\n                        uses: 1,\n                        screen_position: {\n                            x: 253,\n                            y: 23\n                        },\n                        map_url: CONFIG.LOCATIONS.HOME,\n                    },\n                    'Supermarket': {\n                        icon: CST.DEST.SUPERMARKET,\n                        icon_out: CST.DEST.SUPERMARKET_OUT,\n                        route: CST.LEVEL.ROUTE.SUPERMARKET,\n                        uses: 1,\n                        screen_position: {\n                            x: 253 + 91.18,\n                            y: 23\n                        },\n                        map_url: CONFIG.LOCATIONS.SUPERMARKET,\n                    }\n                },\n                routes: [\n                    {\n                        name: 'Home',\n                        icon: CST.LEVEL.ROUTE.HOME,\n                    },\n                ],\n            },\n            DESIRED_ROUTES: [\n                ['Home', 'Supermarket', 'Home'],\n            ],\n            script_key: 1,\n            script: function (l) {\n                LEVEL.launchModal(l, {\n                    text: [CST.MODALS.TUTORIAL_1, CST.MODALS.TUTORIAL_2, CST.MODALS.TUTORIAL_3],\n                    btn: CST.MODALS.BTN_TUTORIAL\n                })\n            }\n        },\n        2: {\n            DATA: {\n                WEATHER: CST.WEATHER.REGULAR,\n            },\n            GAMEPLAY: {\n                current_battery: '0%',\n                next_route: 1,\n                selected_route: null,\n                destinations: {\n                    'Home': {\n                        icon: CST.DEST.HOME,\n                        icon_out: CST.DEST.HOME_OUT,\n                        route: CST.LEVEL.ROUTE.HOME,\n                        uses: 1,\n                        screen_position: {\n                            x: 253,\n                            y: 23\n                        },\n                        map_url: CONFIG.LOCATIONS.HOME,\n                    },\n                    'Work': {\n                        icon: CST.DEST.WORK,\n                        icon_out: CST.DEST.WORK_OUT,\n                        route: CST.LEVEL.ROUTE.WORK,\n                        uses: 1,\n                        screen_position: {\n                            x: 253 + 91.18,\n                            y: 23\n                        },\n                        map_url: CONFIG.LOCATIONS.WORK,\n                    },\n\n                },\n                routes: [\n                    {\n                        name: 'Home',\n                        icon: CST.LEVEL.ROUTE.HOME,\n                    },\n                ],\n                powerups: [\n                    'Hot',\n                    'Cooling',\n                ]\n            },\n            DESIRED_ROUTES: [\n                ['Home', 'Work', 'Home'],\n            ],\n            DESIRED_POWERUPS: ['Hot', 'Cooling'],\n            script_key: 2,\n            script: function (l) {\n                LEVEL.launchModal(l, {\n                    text: [CST.MODALS.POWERUPS_1, CST.MODALS.POWERUPS_2, CST.MODALS.POWERUPS_3],\n                    btn: CST.MODALS.BTN_POWERUPS\n                })\n            }\n        },\n        3: {\n            DATA: {\n                WEATHER: CST.WEATHER.REGULAR,\n            },\n            GAMEPLAY: {\n                current_battery: '0%',\n                next_route: 1,\n                selected_route: null,\n                destinations: {\n                    'Home': {\n                        icon: CST.DEST.HOME,\n                        icon_out: CST.DEST.HOME_OUT,\n                        route: CST.LEVEL.ROUTE.HOME,\n                        uses: 1,\n                        screen_position: {\n                            x: 253,\n                            y: 23\n                        },\n                        map_url: CONFIG.LOCATIONS.HOME,\n                    },\n                    'Supermarket': {\n                        icon: CST.DEST.SUPERMARKET,\n                        icon_out: CST.DEST.SUPERMARKET_OUT,\n                        route: CST.LEVEL.ROUTE.SUPERMARKET,\n                        uses: 1,\n                        screen_position: {\n                            x: 253 + 91.18,\n                            y: 23\n                        },\n                        map_url: CONFIG.LOCATIONS.SUPERMARKET,\n                    },\n                    'Gym': {\n                        icon: CST.DEST.GYM,\n                        icon_out: CST.DEST.GYM_OUT,\n                        route: CST.LEVEL.ROUTE.GYM,\n                        uses: 1,\n                        screen_position: {\n                            x: 253 + 91.18 * 2,\n                            y: 23\n                        },\n                        map_url: CONFIG.LOCATIONS.GYM,\n                    },\n                },\n                routes: [\n                    {\n                        name: 'Home',\n                        icon: CST.LEVEL.ROUTE.HOME,\n                    },\n                ],\n                powerups: [\n                    'Hot',\n                    'Cooling',\n                    'Cold',\n                    'Heating',\n                ]\n            },\n            DESIRED_ROUTES: [\n                ['Home', 'Supermarket', 'Gym', 'Home'],\n                ['Home', 'Gym', 'Supermarket', 'Home'],\n            ],\n            DESIRED_POWERUPS: ['Cold', 'Heating'],\n            script_key: 3,\n            script: function (l) {\n                LEVEL.launchModal(l, {\n                    text: CST.MODALS.NOMOREHELP,\n                    btn: CST.MODALS.BTN_NOMOREHELP\n                })\n            }\n        },\n        4: {\n            DATA: {\n                WEATHER: CST.WEATHER.REGULAR,\n            },\n            GAMEPLAY: {\n                next_route: 1,\n                selected_route: null,\n                destinations: {\n                    'Home': {\n                        icon: CST.DEST.HOME,\n                        icon_out: CST.DEST.HOME_OUT,\n                        route: CST.LEVEL.ROUTE.HOME,\n                        uses: 2,\n                        screen_position: {\n                            x: 219,\n                            y: 23\n                        },\n                        map_url: CONFIG.LOCATIONS.HOME,\n                    },\n                    'Work': {\n                        icon: CST.DEST.WORK,\n                        icon_out: CST.DEST.WORK_OUT,\n                        route: CST.LEVEL.ROUTE.WORK,\n                        uses: 1,\n                        screen_position: {\n                            x: 219 + 91.18,\n                            y: 23\n                        },\n                        map_url: CONFIG.LOCATIONS.WORK,\n                    },\n                    'Supermarket': {\n                        icon: CST.DEST.SUPERMARKET,\n                        icon_out: CST.DEST.SUPERMARKET_OUT,\n                        route: CST.LEVEL.ROUTE.SUPERMARKET,\n                        uses: 1,\n                        screen_position: {\n                            x: 219 + 91.18 * 2,\n                            y: 23\n                        },\n                        map_url: CONFIG.LOCATIONS.SUPERMARKET,\n                    },\n                    'Gym': {\n                        icon: CST.DEST.GYM,\n                        icon_out: CST.DEST.GYM_OUT,\n                        route: CST.LEVEL.ROUTE.GYM,\n                        uses: 1,\n                        screen_position: {\n                            x: 219 + 91.18 * 3,\n                            y: 23\n                        },\n                        map_url: CONFIG.LOCATIONS.GYM,\n                    },\n                },\n                routes: [\n                    {\n                        name: 'Home',\n                        icon: CST.LEVEL.ROUTE.HOME,\n                    },\n                ],\n                powerups: [\n                    'Hot',\n                    'Cooling',\n                    'Double-Time',\n                    'Power-Down',\n                ]\n            },\n            DESIRED_ROUTES: [\n                ['Home', 'Work', 'Home', 'Gym', 'Supermarket', 'Home'],\n                ['Home', 'Work', 'Home', 'Supermarket', 'Gym', 'Home'],\n                ['Home', 'Work', 'Gym', 'Home', 'Supermarket', 'Home'],\n                ['Home', 'Work', 'Supermarket', 'Home', 'Gym', 'Home'],\n                ['Home', 'Gym', 'Home', 'Supermarket', 'Work', 'Home'],\n                ['Home', 'Gym', 'Home', 'Work', 'Supermarket', 'Home'],\n                ['Home', 'Gym', 'Supermarket', 'Home', 'Work', 'Home'],\n                ['Home', 'Gym', 'Work', 'Home', 'Supermarket', 'Home'],\n                ['Home', 'Supermarket', 'Home', 'Work', 'Gym', 'Home'],\n                ['Home', 'Supermarket', 'Home', 'Gym', 'Work', 'Home'],\n                ['Home', 'Supermarket', 'Work', 'Home', 'Gym', 'Home'],\n                ['Home', 'Supermarket', 'Gym', 'Home', 'Work', 'Home'],\n            ],\n            DESIRED_POWERUPS: ['Hot', 'Cooling', 'Double-Time', 'Power-Down'],\n        }\n    }\n}","import { CST } from './CST'\n\nconst POWERUP_UTILS = {\n\n    decreaseBattery(l, multiplier) {\n\n        const full = l.visual.battery_full\n        const usable = l.visual.battery_ref\n        l.GAMEPLAY.AUTONOMY_MULTIPLIER *= multiplier\n        const m = l.GAMEPLAY.AUTONOMY_MULTIPLIER\n        usable.displayWidth = full.frame.width * l.DATA.max_battery_dec / m\n        const battery_level = Math.round(+l.DATA.max_battery / m)\n        l.visual.BATTERY.setText(battery_level + '%')\n\n    },\n\n    restoreBattery(l, multiplier) {\n\n        const full = l.visual.battery_full\n        const usable = l.visual.battery_ref\n        l.GAMEPLAY.AUTONOMY_MULTIPLIER /= multiplier\n        const m = l.GAMEPLAY.AUTONOMY_MULTIPLIER\n        usable.displayWidth = full.frame.width * l.DATA.max_battery_dec / m\n        const battery_level = Math.round(+l.DATA.max_battery / m)\n        l.visual.BATTERY.setText(battery_level + '%')\n\n    },\n\n    changeWeather(l, weather, powerup) {\n\n        this.prev_weather = {\n            // save to restore later\n            icon: l.visual.weather,\n            data: l.DATA.WEATHER,\n            check: powerup\n        }\n\n        if (this.hasOwnProperty('weather_icon')) {\n            this.weather_icon.destroy()\n        }\n        l.visual.weather.setVisible(false)\n        this.weather_icon = l.add.image(\n            CST.POS.WEATHER.ICON[0],\n            CST.POS.WEATHER.ICON[1],\n            weather.ICON\n        ).setOrigin(0).setDepth(2)\n\n        l.visual.temperature.setText(weather.TEMP + 'ºC')\n        l.visual.humidity.setText(weather.HUMIDITY + '%')\n\n    },\n\n    restoreWeather(l, powerup) {\n\n        if (this.prev_weather.check !== powerup) return\n\n        this.weather_icon.destroy()\n        delete this.weather_icon\n\n        this.prev_weather.icon.setVisible(true)\n        l.visual.temperature.setText(this.prev_weather.data.TEMP + 'ºC')\n        l.visual.humidity.setText(this.prev_weather.data.HUMIDITY + '%')\n\n    }\n\n}\n\nexport const POWERUPS = {\n\n    'Cold': {\n        name: 'Cold',\n        description: 'The cold temperature has reduced the autonomy of the car.',\n        icon: CST.LEVEL.POWERUPS.COLD,\n        visuals: CST.WEATHER.COLD,\n        multiplier: 1.15,\n        incompatible: ['Hot'],\n        apply: function (l) {\n            // POWERUP_UTILS.decreaseBattery(l, this.multiplier)\n            l.GAMEPLAY.DIST_MULTIPLIER *= this.multiplier\n            POWERUP_UTILS.changeWeather(l, this.visuals, this.name)\n        },\n        unapply: function (l) {\n            // POWERUP_UTILS.restoreBattery(l, this.multiplier)\n            l.GAMEPLAY.DIST_MULTIPLIER /= this.multiplier\n            POWERUP_UTILS.restoreWeather(l, this.name)\n        }\n    },\n\n    'Heating': {\n        name: 'Heating',\n        description: 'Increases battery expenditure in cold temperatures.',\n        icon: CST.LEVEL.POWERUPS.HEAT,\n        multiplier: 1.5,\n        requires: ['Cold'],\n        apply: function (l) {\n            l.GAMEPLAY.DIST_MULTIPLIER *= this.multiplier\n        },\n        unapply: function (l) {\n            l.GAMEPLAY.DIST_MULTIPLIER /= this.multiplier\n        }\n    },\n\n    'Hot': {\n        name: 'Hot',\n        description: 'The hot temperature has reduced the autonomy of the car.',\n        icon: CST.LEVEL.POWERUPS.HOT,\n        visuals: CST.WEATHER.HOT,\n        multiplier: 1.05,\n        incompatible: ['Cold'],\n        apply: function (l) {\n            // POWERUP_UTILS.decreaseBattery(l, this.multiplier)\n            l.GAMEPLAY.DIST_MULTIPLIER *= this.multiplier\n            POWERUP_UTILS.changeWeather(l, this.visuals, this.name)\n        },\n        unapply: function (l) {\n            // POWERUP_UTILS.restoreBattery(l, this.multiplier)\n            l.GAMEPLAY.DIST_MULTIPLIER /= this.multiplier\n            POWERUP_UTILS.restoreWeather(l, this.name)\n        }\n    },\n\n    'Cooling': {\n        name: 'Cooling',\n        icon: CST.LEVEL.POWERUPS.COOL,\n        description: 'Increases battery expenditure in hot temperatures.',\n        multiplier: 1.15,\n        requires: ['Hot'],\n        apply: function (l) {\n            l.GAMEPLAY.DIST_MULTIPLIER *= this.multiplier\n        },\n        unapply: function (l) {\n            l.GAMEPLAY.DIST_MULTIPLIER /= this.multiplier\n        }\n    },\n\n    'Double-Time': {\n        name: 'Double-Time',\n        icon: CST.LEVEL.POWERUPS.DOUBLETIME,\n        description: 'We\\'re in a rush! Battery expenditure is doubled for this level.',\n        multiplier: 1.25,\n        apply: function (l) {\n            l.GAMEPLAY.DIST_MULTIPLIER *= this.multiplier\n        },\n        unapply: function (l) {\n            l.GAMEPLAY.DIST_MULTIPLIER /= this.multiplier\n        }\n    },\n\n    'Power-Down': {\n        name: 'Power-Down',\n        icon: CST.LEVEL.POWERUPS.POWERDOWN,\n        description: 'The battery is malfunctioning! Battery autonomy is reduced for this level.',\n        multiplier: 2,\n        apply: function (l) {\n            POWERUP_UTILS.decreaseBattery(l, this.multiplier)\n        },\n        unapply: function (l) {\n            POWERUP_UTILS.restoreBattery(l, this.multiplier)\n        }\n    },\n\n}\n","export const UTILS = {\n    copy(obj) {\n        return JSON.parse(JSON.stringify(obj))\n    },\n    arrayRemove(array, obj) {\n        const index = array.indexOf(obj)\n        if (index > -1) {\n            array.splice(index, 1)\n            return true\n        }\n        return false\n    },\n    roundToDecimals(n, digits) {\n        const power_of_ten = 10**digits\n        return Math.round(n * power_of_ten) / power_of_ten\n    },\n    reposition() {\n        const map_place = document.getElementById('gm-place')\n        const map_directions = document.getElementById('gm-directions')\n        const overlay = document.getElementById('overlay')\n    \n        const canvas = document.getElementsByTagName('canvas')[0]\n        const rect = canvas.getBoundingClientRect()\n    \n        overlay.style.left = (rect.left + 10) + 'px'\n        overlay.style.top = (rect.top + 10) + 'px'\n    \n        const map_left = (rect.left + 10 + 142) + 'px'\n        const map_top = (rect.top + 10 + 127) + 'px'\n    \n        map_place.style.left = map_left\n        map_place.style.top = map_top\n        map_directions.style.left = map_left\n        map_directions.style.top = map_top\n    },\n}","import { CONFIG } from './config'\nimport { CST } from './CST'\nimport { LEVELCONFIG } from './LevelConfig'\nimport { POWERUPS } from './Powerups'\nimport { UTILS } from './Utils'\n\nexport const REQUESTS = {\n    INIT: 'REQUEST_INIT',\n    CHECK: 'REQUEST_CHECK'\n}\n\nexport const LEVEL = {\n    /**\n     * +++ AUX FUNCTIONS\n     */\n    setupInterface(level) {\n        /**\n         * @@@  Centering text:\n         *      x = position_x + (width / 2)\n         *      y = position_y + (height / 2)\n         *      Then, place the text in (x,y), and call setOrigin(0.5)\n         */\n\n        // // set background\n        level.add.image(0, 0, CST.LEVEL.BACKGROUND).setOrigin(0).setDepth(0)\n\n        const weather = level.DATA.WEATHER\n        // // set weather on top left\n        level.visual.weather = level.add.image(\n            CST.POS.WEATHER.ICON[0],\n            CST.POS.WEATHER.ICON[1],\n            weather.ICON\n        ).setOrigin(0).setDepth(1)\n        // // // set temperature and icon\n        level.visual.temperature = level.add.text(\n            CST.POS.WEATHER.TEMPERATURE.TEXT[0],\n            CST.POS.WEATHER.TEMPERATURE.TEXT[1],\n            weather.TEMP + 'ºC',\n            CST.STYLES.FLAVOR_SMALL\n        ).setOrigin(0.5)\n        level.add.image(\n            CST.POS.WEATHER.TEMPERATURE.ICON[0],\n            CST.POS.WEATHER.TEMPERATURE.ICON[1],\n            CST.ICONS.TEMPERATURE\n        ).setOrigin(0).setDepth(1)\n        // // // set humidity and icon\n        level.visual.humidity = level.add.text(\n            CST.POS.WEATHER.HUMIDITY.TEXT[0],\n            CST.POS.WEATHER.HUMIDITY.TEXT[1],\n            weather.HUMIDITY + '%',\n            CST.STYLES.FLAVOR_SMALL\n        ).setOrigin(0.5)\n        level.add.image(\n            CST.POS.WEATHER.HUMIDITY.ICON[0],\n            CST.POS.WEATHER.HUMIDITY.ICON[1],\n            CST.ICONS.HUMIDITY\n        ).setOrigin(0).setDepth(1)\n        // // set max battery for level on top left\n        level.add.image(\n            CST.POS.BATTERY.ICON[0],\n            CST.POS.BATTERY.ICON[1],\n            CST.ICONS.BATTERY\n        ).setOrigin(0).setDepth(1)\n        level.visual.BATTERY = level.add.text(\n            CST.POS.BATTERY.TEXT[0],\n            CST.POS.BATTERY.TEXT[1],\n            level.DATA.max_battery + '%',\n            CST.STYLES.FLAVOR_LARGE\n        ).setOrigin(0.5)\n        // // place map and power-up bar placeholders\n        level.add.image(\n            CST.POS.MAP[0],\n            CST.POS.MAP[1],\n            CST.PLACEHOLDER.MAP\n        ).setOrigin(0).setDepth(1)\n        // // add destination selection outline image\n        level.visual.dest_outline = level.add.image(\n            0,\n            18,\n            CST.DEST.SELECTED\n        ).setOrigin(0).setDepth(1).setVisible(false)\n    },\n\n    // place possible destinations on top of screen\n    placeDestinationSquare(level, i) {\n        let dest = level.GAMEPLAY.destinations[i]\n        dest.icon = level.add.image(\n            dest.screen_position.x,\n            dest.screen_position.y,\n            dest.icon\n        ).setOrigin(0).setDepth(1)\n        dest.icon_out = level.add.image(\n            dest.screen_position.x,\n            dest.screen_position.y,\n            dest.icon_out\n        ).setOrigin(0).setDepth(1).setVisible(false)\n        dest.icon.setInteractive()\n        dest.icon.on(CST.MOUSE.CLICK_RELEASE, () => {\n            if (i === level.GAMEPLAY.selected_route) {\n                level.GAMEPLAY.selected_route = null\n                level.visual.dest_outline.setVisible(false)\n            } else if (dest.uses > 0) {\n                level.GAMEPLAY.selected_route = i\n                level.visual.dest_outline.x = dest.screen_position.x\n                level.visual.dest_outline.setVisible(true)\n            }\n        })\n        dest.text = level.add.text(\n            dest.screen_position.x + 68.63,\n            dest.screen_position.y + 13.56,\n            dest.uses,\n            CST.STYLES.DEST_USES\n        ).setOrigin(0.5).setDepth(2)\n    },\n\n    updateDestDisplay(dest) {\n        dest.icon.setVisible(dest.uses > 0)\n        dest.icon_out.setVisible(dest.uses === 0)\n        dest.text.setText(dest.uses)\n    },\n\n    placePowerUps(level) {\n        if (!level.GAMEPLAY.hasOwnProperty('powerups')) {\n            level.add.image(\n                CST.POS.POWERUPS.BAR[0],\n                CST.POS.POWERUPS.BAR[1],\n                CST.PLACEHOLDER.POWERUPS\n            ).setOrigin(0).setDepth(1)\n            return\n        }\n        level.add.image(\n            CST.POS.POWERUPS.BAR[0],\n            CST.POS.POWERUPS.BAR[1],\n            CST.LEVEL.POWERUPS.BAR\n        ).setOrigin(0).setDepth(1)\n        let i = 0\n        level.visual.selected_powerups = {}\n        level.visual.disabled_powerups = {}\n        // only 4 maximum powerups allowed per level\n        for (const name of level.GAMEPLAY.powerups.slice(0, 4)) {\n            const p = POWERUPS[name]\n            const x = CST.POS.POWERUPS.X\n            const y = CST.POS.POWERUPS.Y + CST.POS.POWERUPS.DELTA * i++\n\n            const selected = level.add.image(\n                x - 4, y - 4,\n                CST.LEVEL.POWERUPS.SELECTED\n            ).setOrigin(0).setDepth(2).setVisible(false)\n\n            const icon = level.add.image(\n                x, y, p.icon\n            ).setOrigin(0).setDepth(3)\n\n            const disabledAtStart = POWERUPS[name].hasOwnProperty('requires')\n            const disabled = level.add.image(\n                x, y,\n                CST.LEVEL.POWERUPS.DISABLED\n            ).setOrigin(0).setDepth(4).setVisible(disabledAtStart)\n            // makes 'disabled' block the clicks\n            disabled.setInteractive()\n\n            level.visual.selected_powerups[name] = selected\n            level.visual.disabled_powerups[name] = disabled\n\n            icon.setInteractive()\n            icon.on(CST.MOUSE.CLICK_RELEASE, () => {\n                if (level.GAMEPLAY.ACTIVE_POWERUPS.includes(name)) {\n                    this.removePowerup(level, name)\n                } else {\n                    this.addPowerup(level, name)\n                }\n                this.checkPowerups(level)\n            })\n        }\n    },\n\n    removePowerup(level, name) {\n        if (UTILS.arrayRemove(level.GAMEPLAY.ACTIVE_POWERUPS, name)) {\n            POWERUPS[name].unapply(level)\n            level.visual.selected_powerups[name].setVisible(false)\n        }\n    },\n\n    addPowerup(level, name) {\n        level.GAMEPLAY.ACTIVE_POWERUPS.push(name)\n        POWERUPS[name].apply(level)\n        level.visual.selected_powerups[name].setVisible(true)\n        if (POWERUPS[name].hasOwnProperty('incompatible')) {\n            for (const p of POWERUPS[name].incompatible) {\n                this.removePowerup(level, p)\n            }\n        }\n    },\n\n    checkPowerups(level) {\n        for (const name of level.GAMEPLAY.powerups.slice(0, 4)) {\n            let hasRequirements = true\n            if (!POWERUPS[name].hasOwnProperty('requires')) {\n                level.visual.disabled_powerups[name].setVisible(false)\n            } else {\n                hasRequirements = POWERUPS[name].requires.every(\n                    p => level.GAMEPLAY.ACTIVE_POWERUPS.includes(p)\n                )\n                level.visual.disabled_powerups[name].setVisible(!hasRequirements)\n            }\n            if (!hasRequirements) {\n                this.removePowerup(level, name)\n            }\n        }\n    },\n\n    placeRouteBar(level) {\n        /**\n         * @@@ INFO ON CROPPING IMAGES\n         * https://www.html5gamedevs.com/topic/36973-showing-cropped-image/\n         */\n        const full = level.add.image(\n            CST.POS.ROUTE.BAR[0],\n            CST.POS.ROUTE.BAR[1],\n            CST.LEVEL.ROUTE.BAR_FULL\n        ).setOrigin(0).setDepth(1)\n        level.add.image(\n            CST.POS.ROUTE.BAR[0],\n            CST.POS.ROUTE.BAR[1],\n            CST.LEVEL.ROUTE.BAR_EMPTY\n        ).setOrigin(0).setDepth(0)\n        full.displayWidth = 32.5\n        level.visual.route_bar = full\n    },\n\n    advanceRouteBar(level, index, dist) {\n        // delta between squares = 90\n        // square width = 65\n        // therefore, the animated bit is 25 pixels long\n        const route_target = 32.5 + 90 * (index + 1)\n        const route_bar = level.visual.route_bar\n        route_bar.displayWidth = route_target - 90\n\n        const autonomy = level.GAMEPLAY.MAX_AUTONOMY / level.GAMEPLAY.AUTONOMY_MULTIPLIER\n        const battery_perc = Math.min(1, dist / autonomy)\n        const max_width = level.visual.battery_full.displayWidth\n        const battery_ref = level.visual.battery_ref\n        const battery_bar = level.visual.battery_bar\n        const battery_target = battery_perc * battery_ref.displayWidth\n\n        level.tweens.add({\n            targets: [route_bar, battery_bar],\n            // displayWidth: route_target,\n            displayWidth: function (target, targetKey, value, targetIndex, totalTargets, tween) {\n                switch (targetIndex) {\n                    case 0:\n                        return route_target\n                    case 1:\n                        return battery_target\n                    default:\n                        return 0\n                }\n            },\n            duration: CST.ANIM.DURATION,\n            ease: Phaser.Math.Easing.Linear,\n            onUpdate: (e) => {\n                const p = e.data[1].current / max_width\n                this.updateBatteryPercentage(level, p)\n            },\n            onComplete: () => {\n                level.return.index++\n                this.levelCheck(level)\n            },\n        })\n    },\n\n    resetRouteBar(level) {\n        level.visual.route_bar.displayWidth = 0\n        level.visual.battery_bar.displayWidth = 0\n        this.updateBatteryPercentage(level, 0)\n    },\n\n    // place route slots on bottom of screen\n    placeRouteSlot(level, i, x, y) {\n        if (i) {\n            level.visual.openRoutes.push(\n                level.add.image(x, y,\n                    CST.LEVEL.ROUTE.OPEN).setOrigin(0).setDepth(2)\n            )\n            if (i > 1) {\n                level.visual.closedRoutes.push(\n                    level.add.image(x, y,\n                        CST.LEVEL.ROUTE.CLOSED).setOrigin(0).setDepth(3)\n                )\n            }\n        } else {\n            let icon = level.add.image(x, y, level.GAMEPLAY.routes[0].icon).setOrigin(0).setDepth(1)\n            level.GAMEPLAY.routes[0].icon = icon\n        }\n    },\n\n    // place battery bar and cut usable portion based on percentage\n    setupBatteryBar(level) {\n        /**\n         * @@@ INFO ON CROPPING IMAGES\n         * https://www.html5gamedevs.com/topic/36973-showing-cropped-image/\n         */\n        const full = level.add.image(\n            CST.POS.BATTERY.BAR[0],\n            CST.POS.BATTERY.BAR[1],\n            CST.LEVEL.BATTERY.FULL\n        ).setOrigin(0).setDepth(1)\n        const usable = level.add.image(\n            CST.POS.BATTERY.BAR[0],\n            CST.POS.BATTERY.BAR[1],\n            CST.LEVEL.BATTERY.USABLE\n        ).setOrigin(0).setDepth(2)\n        const used = level.add.image(\n            CST.POS.BATTERY.BAR[0],\n            CST.POS.BATTERY.BAR[1],\n            CST.LEVEL.BATTERY.USED\n        ).setOrigin(0).setDepth(2)\n        level.visual.battery_full = full\n        usable.displayWidth = full.frame.width * level.DATA.max_battery_dec\n        level.visual.battery_ref = usable\n        used.displayWidth = 0\n        level.visual.battery_bar = used\n        level.visual.battery_perc = level.add.text(\n            CST.POS.BATTERY.PERCENTAGE[0],\n            CST.POS.BATTERY.PERCENTAGE[1],\n            '0%',\n            CST.STYLES.BATTERY_PERCENTAGE\n        ).setOrigin(0.5).setDepth(3)\n    },\n\n    updateBatteryPercentage(level, perc) {\n        perc = Math.round(perc * 100)\n        level.visual.battery_perc.setText(perc + '%')\n    },\n\n    checkAndRemoveRoute(level, curr) {\n        let next = curr + 1\n        if (\n            level.GAMEPLAY.routes[curr] !== undefined &&\n            level.GAMEPLAY.routes[next] === undefined\n        ) {\n            let route = level.GAMEPLAY.routes[curr]\n            let dest = level.GAMEPLAY.destinations[route.name]\n            route.icon.destroy()\n            dest.uses++\n            LEVEL.updateDestDisplay(dest)\n            level.GAMEPLAY.routes.pop()\n            level.visual.closedRoutes[level.GAMEPLAY.next_route--].setVisible(true)\n            this.updateGMapsUrl(level)\n            const last = level.GAMEPLAY.routes[--curr].name\n            let visible = (last === 'Home') && (level.GAMEPLAY.next_route > 1)\n            level.visual.goButton.setVisible(visible)\n        }\n    },\n\n    checkAndAddRoute(level, curr) {\n        if (level.GAMEPLAY.selected_route !== null) {\n            if (level.GAMEPLAY.routes[curr] !== undefined) {\n                return\n            }\n            let selected = level.GAMEPLAY.selected_route\n            let last = level.GAMEPLAY.routes[level.GAMEPLAY.next_route - 1]\n            if (selected !== last.name) {\n                level.GAMEPLAY.routes[level.GAMEPLAY.next_route] = {\n                    name: selected,\n                    icon: level.add.image(\n                        level.visual.openRoutes[level.GAMEPLAY.next_route].x,\n                        level.visual.openRoutes[level.GAMEPLAY.next_route].y,\n                        level.GAMEPLAY.destinations[level.GAMEPLAY.selected_route].route\n                    ).setOrigin(0).setDepth(2),\n                    occupied: true\n                }\n                level.visual.closedRoutes[++level.GAMEPLAY.next_route].setVisible(false)\n                let dest = level.GAMEPLAY.destinations[selected]\n                dest.uses--\n                LEVEL.updateDestDisplay(dest)\n                level.GAMEPLAY.selected_route = null\n                level.visual.dest_outline.setVisible(false)\n                level.visual.goButton.setVisible(selected === 'Home')\n                this.updateGMapsUrl(level)\n            }\n        }\n    },\n\n    checkRouteTouchInput(level, curr) {\n        if (\n            level.GAMEPLAY.routes[curr] !== undefined &&\n            level.GAMEPLAY.routes[curr + 1] === undefined\n        ) {\n            this.checkAndRemoveRoute(level, curr)\n            return\n        }\n        this.checkAndAddRoute(level, curr)\n    },\n\n    setupRoutes(level) {\n        // iterating over indexes, not the actual closed routes\n        for (let i in level.visual.closedRoutes) {\n            if (i < 1) { continue }\n            level.visual.openRoutes[i].setInteractive()\n            if (i > 1) level.visual.closedRoutes[i].setInteractive()\n            level.visual.openRoutes[i].on(CST.MOUSE.CLICK_RELEASE, (pointer) => {\n                let curr = parseInt(i)\n                if (pointer.wasTouch) {\n                    this.checkRouteTouchInput(level, curr)\n                    return\n                }\n                if (pointer.rightButtonReleased()) {\n                    this.checkAndRemoveRoute(level, curr)\n                    return\n                }\n                this.checkAndAddRoute(level, curr)\n            })\n        }\n    },\n\n    setupGoButton(level) {\n        level.add.image(\n            CST.POS.GO[0],\n            CST.POS.GO[1],\n            CST.LEVEL.GO.UNUSABLE\n        ).setOrigin(0).setDepth(1)\n        let goButton = level.add.image(\n            CST.POS.GO[0],\n            CST.POS.GO[1],\n            CST.LEVEL.GO.USABLE\n        ).setOrigin(0).setDepth(1)\n\n        goButton.setVisible(false)\n        goButton.setInteractive()\n\n        goButton.on(CST.MOUSE.CLICK, () => {\n            if (level.CLICKABLE) {\n                let apiUrl = this.getDirectionsUrl(level)\n                level.scene.launch(CST.SCENES.DEFER, {\n                    type: REQUESTS.CHECK,\n                    data: level,\n                    url: apiUrl\n                })\n                level.CLICKABLE = false\n            }\n        })\n\n        return goButton\n    },\n\n    processInitCall(level) {\n        const response = level.return\n        if (response.status !== 'OK') {\n            level.return = undefined\n            delete level.return\n            return\n        }\n\n        const route = response.routes[0]\n        let distance = 0\n        for (const s of route.legs) {\n            distance += s.distance.value\n        }\n        let multiplier = 1\n        if (level.hasOwnProperty('DESIRED_POWERUPS')) {\n            for (const p of level.DESIRED_POWERUPS) {\n                if (level.GAMEPLAY.powerups.includes(p)) {\n                    multiplier *= POWERUPS[p].multiplier\n                }\n            }\n        }\n\n        let calc_autonomy = distance * multiplier\n        let calc_battery = (calc_autonomy / 1000) / CST.CALC.BASE\n\n        if (level.DATA.hasOwnProperty('calculated_autonomy')) {\n            if (calc_autonomy <= level.DATA.calculated_autonomy) {\n                level.return = undefined\n                delete level.return\n            }\n        }\n\n        level.DATA.calculated_autonomy = calc_autonomy\n\n        if (calc_battery > 1) {\n            UTILS.arrayRemove(level.GAMEPLAY.powerups, 'Power-Down')\n            if (UTILS.arrayRemove(level.DESIRED_POWERUPS, 'Power-Down')) {\n                multiplier /= POWERUPS['Power-Down'].multiplier\n                calc_autonomy = distance * multiplier\n                calc_battery = (calc_autonomy / 1000) / CST.CALC.BASE\n            }\n        }\n\n        if (level.DATA.hasOwnProperty('max_battery_dec')) {\n            if (level.DATA.max_battery_dec > calc_battery) {\n\n            }\n        }\n\n        level.DATA.max_battery_dec = Math.min(1, calc_battery)\n        level.MAX_AUTONOMY = CST.CALC.BASE * 1000 * level.DATA.max_battery_dec\n        level.DATA.max_battery = Math.round(level.DATA.max_battery_dec * 100)\n\n        level.return = undefined\n        delete level.return\n    },\n\n    processCheckCall(level) {\n        const response = level.return\n        if (response.status !== 'OK') {\n            level.return = undefined\n            delete level.return\n            return\n        }\n\n        const route = response.routes[0].legs.map(\n            x => x.distance.value\n        )\n\n        level.return = {\n            route: route,\n            distance: 0,\n            index: 0,\n        }\n        this.levelCheck(level)\n    },\n\n    levelCheck(level) {\n        if (level.return === undefined) return\n        const data = level.return\n\n        const game = level.GAMEPLAY\n\n        const autonomy = game.MAX_AUTONOMY / game.AUTONOMY_MULTIPLIER\n\n        const diff = autonomy - data.distance\n\n        if (diff <= CST.CALC.MARGIN) {\n            // console.log('PASSED:', data.distance, autonomy, game.ACTIVE_POWERUPS)\n            level.return = undefined\n            const hasNextLevel = LEVELCONFIG.LEVELS.hasOwnProperty(LEVELCONFIG.NEXT)\n            const nextScene = hasNextLevel ? UTILS.copy(LEVELCONFIG.LEVELS[LEVELCONFIG.NEXT]) : undefined\n            level.scene.launch(\n                CST.SCENES.MODAL_EOL,\n                {\n                    maps: [level.visual.map_place, level.visual.map_directions],\n                    content: {\n                        level: {\n                            dist: data.distance\n                        },\n                        parent: level,\n                        hasNextLevel,\n                        next: nextScene,\n                    }\n                }\n            )\n            return\n        }\n\n        if (data.route.length === 0) {\n            // console.log('FAILED:', data.distance, autonomy, game.ACTIVE_POWERUPS)\n            this.launchModal(level, {\n                text: CST.MODALS.LEVEL_FAILED,\n                btn: CST.MODALS.BTN_TRYAGAIN\n            })\n            level.return = undefined\n            this.resetRouteBar(level)\n            level.CLICKABLE = true\n            return\n        }\n\n        const segment = data.route.shift()\n        data.distance += segment * game.DIST_MULTIPLIER\n        this.advanceRouteBar(level, data.index, data.distance)\n    },\n\n    launchModal(level, content) {\n        level.scene.launch(\n            CST.SCENES.MODAL,\n            {\n                maps: [level.visual.map_place, level.visual.map_directions],\n                content: content\n            }\n        )\n    },\n\n    getDirectionsUrl(level) {\n        let waypoints = this.generateGMapsWaypoints(level.GAMEPLAY)\n        if (waypoints.length < 2) return\n        return this.makeUrlFromWaypoints(waypoints)\n    },\n\n    makeUrlFromWaypoints(waypoints) {\n        let base = CONFIG.API_URL + '/get_directions'\n        let pref = '?mode=driving&units=metric'\n        let orig = '&origin=' + waypoints[0]\n        let dest = '&destination=' + waypoints[waypoints.length - 1]\n        let url = base + pref + orig + dest\n        if (waypoints.length > 2) {\n            let wayp = '&waypoints=' + waypoints.slice(1, waypoints.length - 1).join('|')\n            url += wayp\n        }\n        return url\n    },\n\n    updateGMapsUrl(level) {\n        let map_place = level.visual.map_place\n        let map_directions = level.visual.map_directions\n\n        let waypoints = this.generateGMapsWaypoints(level.GAMEPLAY)\n        let base = 'https://www.google.com/maps/embed/v1/'\n        let mode = (waypoints.length < 2 ? 'place' : 'directions')\n        let api = '?key=' + CONFIG.API_KEY\n        if (waypoints.length < 2) {\n            let params = '&q=' + waypoints[0]\n            let url = base + mode + api + params\n            if (map_place.src !== url) {\n                map_place.src = url\n            }\n            map_directions.style.display = 'none'\n            map_place.style.display = 'block'\n        } else {\n            let pref = '&mode=driving&units=metric'\n            let orig = '&origin=' + waypoints[0]\n            let dest = '&destination=' + waypoints[waypoints.length - 1]\n            let params = pref + orig + dest\n            if (waypoints.length > 2) {\n                let wayp = '&waypoints=' + waypoints.slice(1, waypoints.length - 1).join('|')\n                params += wayp\n            }\n            let url = base + mode + api + params\n            if (map_directions.src !== url) {\n                map_directions.src = url\n            }\n            map_place.style.display = 'none'\n            map_directions.style.display = 'block'\n        }\n    },\n\n    generateGMapsWaypoints(data) {\n        return data.routes.map(\n            x => data.destinations[x.name].map_url\n        )\n    },\n\n}","import { CST } from '../modules/CST'\nimport { LEVEL, REQUESTS } from '../modules/Level'\n\nexport class DeferredScene extends Phaser.Scene {\n    constructor() {\n        super({ key: CST.SCENES.DEFER })\n    }\n    init(data) {\n        this.type = data.type\n        this.data = data.data\n        this.url = data.url\n    }\n    preload() {\n\n    }\n    create() {\n        switch (this.type) {\n            case REQUESTS.INIT:\n                for (const [i, v] of Object.entries(this.url)) {\n                    for (const url of v) {\n                        fetch(url)\n                            .then(response => response.json())\n                            .then((data) => {\n                                this.data[i].return = data\n                                LEVEL.processInitCall(this.data[i])\n                            })\n                    }\n                }\n                break\n            case REQUESTS.CHECK:\n                const overlay = document.getElementById('overlay')\n                overlay.style.display = 'block'\n                const timeout = setTimeout(() => {\n                    overlay.style.display = 'none'\n                }, 3000)\n                fetch(this.url)\n                    .then(response => response.json())\n                    .then((data) => {\n                        this.data.return = data\n                        overlay.style.display = 'none'\n                        LEVEL.processCheckCall(this.data)\n                    })\n                clearTimeout(timeout)\n                break\n            default:\n                console.log('Request type was not defined')\n        }\n    }\n}\n","import { CST } from '../modules/CST'\nimport { LEVEL } from '../modules/Level'\nimport { LEVELCONFIG } from '../modules/LevelConfig'\n\nexport class LevelScene extends Phaser.Scene {\n    constructor() {\n        super({\n            key: CST.SCENES.LEVEL\n        })\n    }\n    init(data) {\n        if (Object.keys(data).length == 0) {\n            console.error('No data was received from the loading scene')\n        }\n\n        this.DATA = data.DATA\n        this.GAMEPLAY = data.GAMEPLAY\n        this.GAMEPLAY.MAX_AUTONOMY = data.MAX_AUTONOMY\n        this.GAMEPLAY.DIST_MULTIPLIER = 1\n        this.GAMEPLAY.AUTONOMY_MULTIPLIER = 1\n        this.GAMEPLAY.ACTIVE_POWERUPS = []\n        this.CLICKABLE = true\n\n        if (data.hasOwnProperty('script_key')) {\n            this.script = LEVELCONFIG.LEVELS[data.script_key].script\n        }\n    }\n    preload() {\n        // constant between levels - will be in general \"generateLevel\" function\n        this.visual = {\n            map_place: document.getElementById('gm-place'),\n            map_directions: document.getElementById('gm-directions')\n        }\n\n        this.visual.map_place.style.display = 'block'\n        LEVEL.updateGMapsUrl(this)\n    }\n    create() {\n\n        // open routes are the white squares that signal an available route slot\n        // the first slot is always occupied (home)\n        this.visual.openRoutes = [ null ]\n        // closed routes are the grey squares that signal an unavailable route slot\n        // first and second routes will never be closed, as the first route is always set\n        this.visual.closedRoutes = [ null, null ]\n\n        this.input.mouse.disableContextMenu()\n        LEVEL.setupInterface(this)\n\n        LEVEL.placePowerUps(this)\n\n        for (let i in this.GAMEPLAY.destinations) {\n            LEVEL.placeDestinationSquare(this, i)\n        }\n\n        LEVEL.setupBatteryBar(this)\n\n        LEVEL.placeRouteBar(this)\n\n        for (let i = 0; i < 8; i++) {\n            LEVEL.placeRouteSlot(this, i, CST.POS.ROUTE.SLOT[0] + i * CST.POS.ROUTE.SLOT_GAP, CST.POS.ROUTE.SLOT[1])\n        }\n\n        LEVEL.setupRoutes(this)\n\n        this.visual.goButton = LEVEL.setupGoButton(this)\n\n        if (this.script !== undefined) {\n            this.script(this)\n            this.script = undefined\n        }\n\n    }\n\n}\n","import { CONFIG } from '../modules/config'\nimport { CST } from '../modules/CST'\nimport { LEVEL, REQUESTS } from '../modules/Level'\nimport { LEVELCONFIG } from '../modules/LevelConfig'\n\nexport class LoadScene extends Phaser.Scene {\n    constructor() {\n        super({\n            key: CST.SCENES.LOAD\n        })\n    }\n    init() {\n\n    }\n    preload() {\n\n        // load assets\n        this.load.setBaseURL(CONFIG.ASSETS_URL)\n\n        // // for title screen\n        this.load.image(CST.TITLE.BACKGROUND, 'title/bg.png')\n        this.load.image(CST.TITLE.PLAY, 'title/button_play.png')\n        this.load.image(CST.TITLE.CREDITS, 'title/button_credits.png')\n        this.load.image(CST.TITLE.MINI, 'title/mini.png')\n        // this.load.image(CST.TITLE.OPTIONS, 'title/button_options.png')\n\n        // // for credits screen\n        this.load.image(CST.CREDITS.TEXT, 'credits/credits.png')\n        this.load.image(CST.CREDITS.BUTTON, 'credits/exit_button.png')\n\n        // // for levels\n        this.load.image(CST.LEVEL.BACKGROUND, 'level/bg.png')\n        this.load.image(CST.ICONS.TEMPERATURE, 'level/status_icons/temperature_icon.png')\n        this.load.image(CST.ICONS.HUMIDITY, 'level/status_icons/humidity_icon.png')\n        this.load.image(CST.ICONS.BATTERY, 'level/status_icons/battery_icon.png')\n        // // // weather icons\n        this.load.image(CST.WEATHER.REGULAR.ICON, 'level/status_icons/weather/regular.png')\n        this.load.image(CST.WEATHER.CHILL.ICON, 'level/status_icons/weather/rain.png')\n        this.load.image(CST.WEATHER.COLD.ICON, 'level/status_icons/weather/snow.png')\n        this.load.image(CST.WEATHER.HOT.ICON, 'level/status_icons/weather/sunny.png')\n        this.load.image(CST.WEATHER.WARM.ICON, 'level/status_icons/weather/warm.png')\n\n        // // // powerups\n        this.load.image(CST.LEVEL.POWERUPS.BAR, 'level/powerups/bar.png')\n        this.load.image(CST.LEVEL.POWERUPS.HOT, 'level/powerups/hot.png')\n        this.load.image(CST.LEVEL.POWERUPS.HEAT, 'level/powerups/heating.png')\n        this.load.image(CST.LEVEL.POWERUPS.COLD, 'level/powerups/cold.png')\n        this.load.image(CST.LEVEL.POWERUPS.COOL, 'level/powerups/cooling.png')\n        this.load.image(CST.LEVEL.POWERUPS.DOUBLETIME, 'level/powerups/double-time.png')\n        this.load.image(CST.LEVEL.POWERUPS.POWERDOWN, 'level/powerups/power-down.png')\n        this.load.image(CST.LEVEL.POWERUPS.SELECTED, 'level/powerups/selected.png')\n        this.load.image(CST.LEVEL.POWERUPS.DISABLED, 'level/powerups/unusable.png')\n\n        // // // destinations\n        this.load.image(CST.DEST.SELECTED, 'level/dest/selected.png')\n        this.load.image(CST.DEST.HOME, 'level/dest/home.png')\n        this.load.image(CST.DEST.HOME_OUT, 'level/dest/home_out.png')\n        this.load.image(CST.DEST.WORK, 'level/dest/work.png')\n        this.load.image(CST.DEST.WORK_OUT, 'level/dest/work_out.png')\n        this.load.image(CST.DEST.SUPERMARKET, 'level/dest/supermarket.png')\n        this.load.image(CST.DEST.SUPERMARKET_OUT, 'level/dest/supermarket_out.png')\n        this.load.image(CST.DEST.GYM, 'level/dest/gym.png')\n        this.load.image(CST.DEST.GYM_OUT, 'level/dest/gym_out.png')\n\n        // // // routes\n        this.load.image(CST.LEVEL.ROUTE.OPEN, 'level/routes/open.png')\n        this.load.image(CST.LEVEL.ROUTE.CLOSED, 'level/routes/closed.png')\n        this.load.image(CST.LEVEL.ROUTE.BAR_EMPTY, 'level/routes/bar_empty.png')\n        this.load.image(CST.LEVEL.ROUTE.BAR_FULL, 'level/routes/bar_full.png')\n        this.load.image(CST.LEVEL.ROUTE.HOME, 'level/routes/home.png')\n        this.load.image(CST.LEVEL.ROUTE.WORK, 'level/routes/work.png')\n        this.load.image(CST.LEVEL.ROUTE.SUPERMARKET, 'level/routes/supermarket.png')\n        this.load.image(CST.LEVEL.ROUTE.GYM, 'level/routes/gym.png')\n\n        // // // battery bar\n        this.load.image(CST.LEVEL.BATTERY.FULL, 'level/battery_full_bar.png')\n        this.load.image(CST.LEVEL.BATTERY.USABLE, 'level/battery_usable_bar.png')\n        this.load.image(CST.LEVEL.BATTERY.USED, 'level/battery_used_bar.png')\n\n        // // // mockups\n        this.load.image(CST.PLACEHOLDER.MAP, 'level/mocks/map.png')\n        this.load.image(CST.PLACEHOLDER.POWERUPS, 'level/mocks/powerups.png')\n\n        // // // go button\n        this.load.image(CST.LEVEL.GO.USABLE, 'level/go_button.png')\n        this.load.image(CST.LEVEL.GO.UNUSABLE, 'level/go_unusable.png')\n\n        // // // modals\n        this.load.image(CST.MODALS.BG, 'modals/overlay-bg.png')\n        this.load.image(CST.MODALS.INTRO, 'modals/1_intro.png')\n        this.load.image(CST.MODALS.TUTORIAL_1, 'modals/2_tutorial_1-3.png')\n        this.load.image(CST.MODALS.TUTORIAL_2, 'modals/2_tutorial_2-3.png')\n        this.load.image(CST.MODALS.TUTORIAL_3, 'modals/2_tutorial_3-3.png')\n        this.load.image(CST.MODALS.POWERUPS_1, 'modals/3_powerups_1-3.png')\n        this.load.image(CST.MODALS.POWERUPS_2, 'modals/3_powerups_2-3.png')\n        this.load.image(CST.MODALS.POWERUPS_3, 'modals/3_powerups_3-3.png')\n        this.load.image(CST.MODALS.NOMOREHELP, 'modals/4_no-more-help.png')\n        this.load.image(CST.MODALS.EOL, 'modals/5_end-of-level.png')\n        this.load.image(CST.MODALS.GAMEOVER_1, 'modals/6_end-of-game_1-2.png')\n        this.load.image(CST.MODALS.GAMEOVER_2, 'modals/6_end-of-game_2-2.png')\n        this.load.image(CST.MODALS.LEVEL_FAILED, 'modals/7_level-failed.png')\n        this.load.image(CST.MODALS.WAIT_LOAD, 'modals/8_wait-load.png')\n        this.load.image(CST.MODALS.NAV_L, 'modals/button_left.png')\n        this.load.image(CST.MODALS.NAV_R, 'modals/button_right.png')\n        this.load.image(CST.MODALS.BTN_INTRO, 'modals/button_lets-go.png')\n        this.load.image(CST.MODALS.BTN_TUTORIAL, 'modals/button_got-it.png')\n        this.load.image(CST.MODALS.BTN_POWERUPS, 'modals/button_im-ready.png')\n        this.load.image(CST.MODALS.BTN_NOMOREHELP, 'modals/button_thumbs-up.png')\n        this.load.image(CST.MODALS.BTN_EOL_BACK, 'modals/button_level-repeat.png')\n        this.load.image(CST.MODALS.BTN_EOL_ADVANCE, 'modals/button_level-advance.png')\n        this.load.image(CST.MODALS.BTN_MAINMENU, 'modals/button_main-menu.png')\n        this.load.image(CST.MODALS.BTN_TRYAGAIN, 'modals/button_try-again.png')\n        this.load.image(CST.MODALS.BTN_FINE, 'modals/button_fine.png')\n\n        /*\n            @@@ JUST IN CASE @@@\n            Creating a loading bar\n            Loader events:\n                complete - when done loading everything\n                progress - loader number progress in decimal\n        */\n\n        const urls = {}\n        for (const [i, level] of Object.entries(LEVELCONFIG.LEVELS)) {\n            urls[i] = []\n            for (const r of level.DESIRED_ROUTES) {\n                const waypoints = r.map(\n                    x => level.GAMEPLAY.destinations[x].map_url\n                )\n                if (waypoints.length < 2) continue\n                const url = LEVEL.makeUrlFromWaypoints(waypoints)\n                urls[i].push(url)\n            }\n        }\n        this.scene.launch(CST.SCENES.DEFER, {\n            type: REQUESTS.INIT,\n            data: LEVELCONFIG.LEVELS,\n            url: urls,\n        })\n    }\n    create() {\n        this.scene.start(CST.SCENES.MENU)\n    }\n}\n","import { CST } from '../modules/CST'\nimport { LEVEL } from '../modules/Level'\nimport { LEVELCONFIG } from '../modules/LevelConfig'\nimport { UTILS } from '../modules/Utils'\n\nexport class MenuScene extends Phaser.Scene {\n    constructor() {\n        super({\n            key: CST.SCENES.MENU\n        })\n    }\n    preload() {\n        const map_place = document.getElementById('gm-place')\n        map_place.style.display = 'none'\n        const map_directions = document.getElementById('gm-directions')\n        map_directions.style.display = 'none'\n    }\n    create() {      // creating the menu screen\n\n        // create images (z order)\n        this.add.image(0, 0, CST.TITLE.BACKGROUND).setOrigin(0).setDepth(0)\n        let playButton = this.add.image(\n            this.game.renderer.width / 2,\n            this.game.renderer.height / 2,\n            CST.TITLE.PLAY\n        ).setDepth(2)\n        let optionsButton = this.add.image(\n            this.game.renderer.width / 2,\n            this.game.renderer.height / 2 + 100,\n            CST.TITLE.CREDITS\n        ).setDepth(2)\n\n        // create sprites (if using pixel art, remove sharpen)\n        let hoverSprite = this.add.image(\n            100,\n            100,\n            CST.TITLE.MINI\n        ).setScale(0.75).setVisible(false)\n\n        // make image buttons interactive\n\n        // /*\n        //     PointerEvents:\n        //         pointerover - hovering\n        //         pointerout - not hovering\n        //         pointerup - click and release\n        //         pointerdown - just click\n        // */\n\n        playButton.setInteractive()\n        playButton.on(CST.MOUSE.HOVER, () => {\n            hoverSprite.x = playButton.x - playButton.width * 0.8\n            hoverSprite.y = playButton.y\n            hoverSprite.setVisible(true)\n        })\n        playButton.on(CST.MOUSE.LEAVE, () => {\n            hoverSprite.setVisible(false)\n        })\n        playButton.on(CST.MOUSE.CLICK_RELEASE, () => {\n            // only allows playing once all of\n            // the levels have been calculated\n            for (const level of Object.values(LEVELCONFIG.LEVELS)) {\n                if (!level.hasOwnProperty('MAX_AUTONOMY')) {\n                    this.scene.launch(\n                        CST.SCENES.MODAL,\n                        {\n                            maps: [],\n                            content: {\n                                text: CST.MODALS.WAIT_LOAD,\n                                btn: CST.MODALS.BTN_FINE\n                            }\n                        }\n                    )\n                    return\n                }\n            }\n\n            LEVEL.accumulated_distance = 0\n\n            // if it passes the check, the player may start\n            this.scene.launch(\n                CST.SCENES.MODAL_T,\n                {\n                    content: {\n                        text: CST.MODALS.INTRO,\n                        btn: CST.MODALS.BTN_INTRO,\n                    },\n                    next: CST.SCENES.LEVEL,\n                    next_data: UTILS.copy(LEVELCONFIG.LEVELS[LEVELCONFIG.NEXT++]),\n                    prev_scene: this.scene\n                }\n            )\n        })\n\n        optionsButton.setInteractive()\n        optionsButton.on(CST.MOUSE.HOVER, () => {\n            hoverSprite.x = optionsButton.x - optionsButton.width * 0.8\n            hoverSprite.y = optionsButton.y\n            hoverSprite.setVisible(true)\n        })\n        optionsButton.on(CST.MOUSE.LEAVE, () => {\n            hoverSprite.setVisible(false)\n        })\n        optionsButton.on(CST.MOUSE.CLICK_RELEASE, () => {\n            this.scene.launch(CST.SCENES.CREDITS)\n        })\n\n    }\n}\n","import { CST } from '../modules/CST'\nimport { LEVEL } from '../modules/Level'\nimport { LEVELCONFIG } from '../modules/LevelConfig'\nimport { UTILS } from '../modules/Utils'\n\nexport class ModalEndOfLevelScene extends Phaser.Scene {\n    constructor() {\n        super({\n            key: CST.SCENES.MODAL_EOL\n        })\n    }\n    init(data) {\n        if (Object.keys(data).length == 0) {\n            console.error('No data was received from the loading scene')\n        }\n\n        this.maps = data.maps.filter(x => x.style.display === 'block')\n\n        this.page_content = data.content.level\n        this.parentScene = data.content.parent\n        this.hasNextLevel = data.content.hasNextLevel\n        this.nextScene = data.content.next\n    }\n    preload() {\n\n    }\n    create() {\n        for (const m of this.maps) {\n            m.style.display = 'none'\n        }\n        const bg = this.add.image(0, 0, CST.MODALS.BG).setOrigin(0).setDepth(0)\n        // block accidental inputs\n        bg.setInteractive()\n\n        this.add.image(53, 45, CST.MODALS.EOL).setOrigin(0).setDepth(1)\n\n        const distance = UTILS.roundToDecimals(this.page_content.dist / 1000, 1)\n        const grams = UTILS.roundToDecimals(CST.CALC.PREDICTED_DIST_TO_EMISSIONS * distance, 0)\n        const fuel = UTILS.roundToDecimals(CST.CALC.PREDICTED_DIST_TO_FUEL * distance, 2)\n        const money = UTILS.roundToDecimals(CST.CALC.PREDICTED_FUEL_TO_MONEY * fuel, 2)\n\n        this.add.text(\n            154, 169,\n            `Traveled ${distance} kilometers`,\n            CST.STYLES.END_OF_LEVEL\n        ).setOrigin(0).setDepth(2)\n        this.add.text(\n            154, 225,\n            `Saved ${grams} grams of CO2 emissions`,\n            CST.STYLES.END_OF_LEVEL\n        ).setOrigin(0).setDepth(2)\n        this.add.text(\n            154, 281,\n            `Saved ${fuel} liters of fuel, saving around ${money}€`,\n            CST.STYLES.END_OF_LEVEL\n        ).setOrigin(0).setDepth(2)\n\n        const btn_back = this.add.image(\n            149,\n            428,\n            CST.MODALS.BTN_EOL_BACK\n        ).setOrigin(0).setDepth(2)\n\n        const btn_advance = this.add.image(\n            451,\n            428,\n            CST.MODALS.BTN_EOL_ADVANCE\n        ).setOrigin(0).setDepth(2)\n\n        btn_back.setInteractive()\n        btn_back.on(CST.MOUSE.CLICK_RELEASE, () => {\n            LEVEL.resetRouteBar(this.parentScene)\n            for (const m of this.maps) {\n                m.style.display = 'block'\n            }\n            this.parentScene.CLICKABLE = true\n            this.scene.stop()\n        })\n\n        btn_advance.setInteractive()\n        btn_advance.on(CST.MOUSE.CLICK_RELEASE, () => {\n            this.parentScene.scene.stop()\n            LEVEL.accumulated_distance += this.page_content.dist\n            if (this.hasNextLevel) {\n                LEVELCONFIG.NEXT++\n                this.scene.start(CST.SCENES.LEVEL, this.nextScene)\n            } else {\n                LEVELCONFIG.NEXT = 1\n                this.scene.start(CST.SCENES.MODAL_GAMEOVER)\n            }\n        })\n\n    }\n}\n","import { CST } from '../modules/CST'\nimport { LEVEL } from '../modules/Level'\nimport { UTILS } from '../modules/Utils'\n\nexport class ModalGameOverScene extends Phaser.Scene {\n    constructor() {\n        super({\n            key: CST.SCENES.MODAL_GAMEOVER\n        })\n    }\n    preload() {\n\n    }\n    create() {\n        this.add.image(0, 0, CST.TITLE.BACKGROUND).setOrigin(0).setDepth(0)\n        const bg = this.add.image(0, 0, CST.MODALS.BG).setOrigin(0).setDepth(1)\n        // block accidental inputs\n        bg.setInteractive()\n\n        const total_dist = LEVEL.accumulated_distance\n\n        const distance = UTILS.roundToDecimals(total_dist / 1000, 1)\n        const grams = UTILS.roundToDecimals(CST.CALC.PREDICTED_DIST_TO_EMISSIONS * distance, 0)\n        const fuel = UTILS.roundToDecimals(CST.CALC.PREDICTED_DIST_TO_FUEL * distance, 2)\n        const money = UTILS.roundToDecimals(CST.CALC.PREDICTED_FUEL_TO_MONEY * fuel, 2)\n\n\n        const modal1 = this.add.image(58, 50, CST.MODALS.GAMEOVER_1).setOrigin(0).setDepth(2)\n        const t_dist = this.add.text(\n            171, 272,\n            `Traveled ${distance} kilometers`,\n            CST.STYLES.END_OF_LEVEL\n        ).setOrigin(0).setDepth(3)\n        const t_emissions = this.add.text(\n            171, 328,\n            `Saved ${grams} grams of CO2 emissions`,\n            CST.STYLES.END_OF_LEVEL\n        ).setOrigin(0).setDepth(3)\n        const t_fuel = this.add.text(\n            171, 384,\n            `Saved ${fuel} liters of fuel, saving around ${money}€`,\n            CST.STYLES.END_OF_LEVEL\n        ).setOrigin(0).setDepth(3)\n        const r_btn = this.add.image(\n            703.25,\n            280.95,\n            CST.MODALS.NAV_R\n        ).setOrigin(0).setDepth(3)\n\n        const m1 = [modal1, t_dist, t_emissions, t_fuel, r_btn]\n\n        const modal2 = this.add.image(58, 50, CST.MODALS.GAMEOVER_2).setOrigin(0).setDepth(2).setVisible(false)\n        const l_btn = this.add.image(\n            79,\n            280.95,\n            CST.MODALS.NAV_L\n        ).setOrigin(0).setDepth(3).setVisible(false)\n        const button = this.add.image(\n            302.64,\n            450,\n            CST.MODALS.BTN_MAINMENU\n        ).setOrigin(0).setDepth(3).setVisible(false)\n\n        const m2 = [modal2, l_btn, button]\n\n        l_btn.setInteractive()\n        l_btn.on(CST.MOUSE.CLICK_RELEASE, () => {\n            for (const i of m1) i.setVisible(true)\n            for (const i of m2) i.setVisible(false)\n        })\n        r_btn.setInteractive()\n        r_btn.on(CST.MOUSE.CLICK_RELEASE, () => {\n            for (const i of m1) i.setVisible(false)\n            for (const i of m2) i.setVisible(true)\n        })\n        button.setInteractive()\n        button.on(CST.MOUSE.CLICK_RELEASE, () => {\n            this.scene.start(CST.SCENES.LOAD)\n        })\n    }\n}\n","import { CST } from '../modules/CST'\n\nexport class ModalScene extends Phaser.Scene {\n    constructor() {\n        super({\n            key: CST.SCENES.MODAL\n        })\n    }\n    init(data) {\n        if (Object.keys(data).length == 0) {\n            console.error('No data was received from the loading scene')\n        }\n\n        this.maps = data.maps.filter(x => x.style.display === 'block')\n\n        if (!Array.isArray(data.content.text)) {\n            data.content.text = [data.content.text]\n        }\n        this.page_content = data.content.text\n        this.max_page = this.page_content.length - 1\n        this.button = data.content.btn\n        this.pages = []\n        this.page_number = 0\n    }\n    preload() {\n\n    }\n    create() {\n        for (const m of this.maps) {\n            m.style.display = 'none'\n        }\n        const bg = this.add.image(0, 0, CST.MODALS.BG).setOrigin(0).setDepth(0)\n        // block accidental inputs\n        bg.setInteractive()\n\n        for (const [i, p] of this.page_content.entries()) {\n            this.pages.push(this.add.image(53, 45, p).setOrigin(0).setDepth(1).setVisible(i == 0))\n        }\n\n        const multipage = (this.max_page > 0)\n\n        const l_btn = this.add.image(\n            79,\n            280.95,\n            CST.MODALS.NAV_L\n        ).setOrigin(0).setDepth(2).setVisible(false)\n        const r_btn = this.add.image(\n            703.25,\n            280.95,\n            CST.MODALS.NAV_R\n        ).setOrigin(0).setDepth(2).setVisible(multipage)\n        const button = this.add.image(\n            this.max_page === 0 ? 302.64 : 511,\n            450,\n            this.button\n        ).setOrigin(0).setDepth(2).setVisible(!multipage)\n\n        l_btn.setInteractive()\n        l_btn.on(CST.MOUSE.CLICK_RELEASE, () => {\n            this.pages[this.page_number--].setVisible(false)\n            this.pages[this.page_number].setVisible(true)\n            r_btn.setVisible(true)\n            l_btn.setVisible(this.page_number > 0)\n            button.setVisible(this.page_number === this.max_page)\n        })\n        r_btn.setInteractive()\n        r_btn.on(CST.MOUSE.CLICK_RELEASE, () => {\n            this.pages[this.page_number++].setVisible(false)\n            this.pages[this.page_number].setVisible(true)\n            l_btn.setVisible(true)\n            r_btn.setVisible(this.page_number < this.max_page)\n            button.setVisible(this.page_number === this.max_page)\n        })\n        button.setInteractive()\n        button.on(CST.MOUSE.CLICK_RELEASE, () => {\n            for (const m of this.maps) {\n                m.style.display = 'block'\n            }\n            this.scene.stop()\n        })\n    }\n}\n","import { CST } from '../modules/CST'\n\nexport class ModalTransitionScene extends Phaser.Scene {\n    constructor() {\n        super({\n            key: CST.SCENES.MODAL_T\n        })\n    }\n    init(data) {\n        if (Object.keys(data).length == 0) {\n            console.error('No data was received from the loading scene')\n        }\n\n        this.next = data.next\n        this.next_data = data.next_data\n        this.prev_scene = data.prev_scene\n\n        if (data.hasOwnProperty('maps')) {\n            this.maps = data.maps.filter(x => x.style.display === 'block')\n        } else {\n            this.maps = []\n        }\n\n        if (!Array.isArray(data.content.text)) {\n            data.content.text = [data.content.text]\n        }\n        this.page_content = data.content.text\n        this.max_page = this.page_content.length - 1\n        this.button = data.content.btn\n        this.pages = []\n        this.page_number = 0\n    }\n    preload() {\n\n    }\n    create() {\n        for (const m of this.maps) {\n            m.style.display = 'none'\n        }\n        const bg = this.add.image(0, 0, CST.MODALS.BG).setOrigin(0).setDepth(0)\n        // block accidental inputs\n        bg.setInteractive()\n\n        for (const [i, p] of this.page_content.entries()) {\n            this.pages.push(this.add.image(53, 45, p).setOrigin(0).setDepth(1).setVisible(i == 0))\n        }\n\n        const multipage = (this.max_page > 0)\n\n        const l_btn = this.add.image(\n            79,\n            280.95,\n            CST.MODALS.NAV_L\n        ).setOrigin(0).setDepth(2).setVisible(false)\n        const r_btn = this.add.image(\n            703.25,\n            280.95,\n            CST.MODALS.NAV_R\n        ).setOrigin(0).setDepth(2).setVisible(multipage)\n        const button = this.add.image(\n            this.max_page === 0 ? 302.64 : 511,\n            450,\n            this.button\n        ).setOrigin(0).setDepth(2).setVisible(!multipage)\n\n        l_btn.setInteractive()\n        l_btn.on(CST.MOUSE.CLICK_RELEASE, () => {\n            this.pages[this.page_number--].setVisible(false)\n            this.pages[this.page_number].setVisible(true)\n            r_btn.setVisible(true)\n            l_btn.setVisible(this.page_number > 0)\n            button.setVisible(this.page_number === this.max_page)\n        })\n        r_btn.setInteractive()\n        r_btn.on(CST.MOUSE.CLICK_RELEASE, () => {\n            this.pages[this.page_number++].setVisible(false)\n            this.pages[this.page_number].setVisible(true)\n            l_btn.setVisible(true)\n            r_btn.setVisible(this.page_number < this.max_page)\n            button.setVisible(this.page_number === this.max_page)\n        })\n        button.setInteractive()\n        button.on(CST.MOUSE.CLICK_RELEASE, () => {\n            for (const m of this.maps) {\n                m.style.display = 'block'\n            }\n            this.prev_scene.stop()\n            this.scene.start(this.next, this.next_data)\n        })\n    }\n}\n","import { CreditsScene } from './scenes/CreditsScene';\nimport { DeferredScene } from './scenes/DeferredScene';\nimport { LevelScene } from './scenes/LevelScene';\nimport { LoadScene } from './scenes/LoadScene'\nimport { MenuScene } from './scenes/MenuScene'\nimport { ModalEndOfLevelScene } from './scenes/ModalEndOfLevelScene';\nimport { ModalGameOverScene } from './scenes/ModalGameOverScene';\nimport { ModalScene } from './scenes/ModalScene';\nimport { ModalTransitionScene } from './scenes/ModalTransitionScene';\nimport { UTILS } from './modules/Utils'\n\nlet game = new Phaser.Game({\n    width: 800,\n    height: 600,\n    scene: [\n        LoadScene,\n        MenuScene,\n        LevelScene,\n        DeferredScene,\n        CreditsScene,\n        ModalScene,\n        ModalTransitionScene,\n        ModalEndOfLevelScene,\n        ModalGameOverScene\n    ]\n});\n\nUTILS.reposition()\nwindow.addEventListener('resize', UTILS.reposition)\n"],"names":["$hPtJY","parcelRequire","$630dda8d81b1b9e8$var$LINE","$630dda8d81b1b9e8$var$_log","message","console","log","$630dda8d81b1b9e8$var$DotenvModule","options","dotenvPath","$59kwG","resolve","cwd","encoding","debug","Boolean","override","envPath","path","join","$ccDAZ","homedir","slice","parsed","parse","$kjyEk","readFileSync","Object","keys","forEach","key","prototype","hasOwnProperty","call","env","e","error","src","obj","match","lines","toString","replace","exec","value","trim","maybeQuote","module","exports","config","$3bfdb7183e8721d6$var$assertPath","TypeError","JSON","stringify","$3bfdb7183e8721d6$var$normalizeStringPosix","allowAboveRoot","code","res","lastSegmentLength","lastSlash","dots","i","length","charCodeAt","lastSlashIndex","lastIndexOf","$3bfdb7183e8721d6$var$posix","resolvedPath","resolvedAbsolute","arguments","undefined","normalize","isAbsolute","trailingSeparator","joined","arg","relative","from","to","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","out","_makeLong","dirname","hasRoot","end","matchedSlash","basename","ext","start","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","format","pathObject","sep","dir","root","base","name","$3bfdb7183e8721d6$var$_format","ret","delimiter","win32","posix","$8e2551e033e95cb5$export$c1d46b5ea6262c0b","$df9bde8f90d0ef7e$export$dd3c50b1c80c78ef","SCENES","LOAD","MENU","LEVEL","DEFER","CREDITS","MODAL","MODAL_T","MULTIMODAL","MODAL_EOL","MODAL_GAMEOVER","STYLES","BATTERY_PERCENTAGE","font","fill","DEST_USES","FLAVOR_SMALL","FLAVOR_LARGE","END_OF_LEVEL","DEST","HOME","HOME_OUT","WORK","WORK_OUT","SUPERMARKET","SUPERMARKET_OUT","GYM","GYM_OUT","SELECTED","BACKGROUND","BATTERY","FULL","USABLE","USED","ROUTE","OPEN","CLOSED","BAR_EMPTY","BAR_FULL","GO","UNUSABLE","POWERUPS","BAR","HOT","HEAT","COLD","COOL","DOUBLETIME","POWERDOWN","DISABLED","ICONS","TEMPERATURE","HUMIDITY","PLACEHOLDER","MAP","TITLE","PLAY","OPTIONS","MINI","TEXT","BUTTON","MOUSE","CLICK_RELEASE","CLICK","HOVER","LEAVE","WEATHER","REGULAR","ICON","TEMP","CHILL","WARM","ANIM","DURATION","MODALS","BG","INTRO","TUTORIAL_1","TUTORIAL_2","TUTORIAL_3","POWERUPS_1","POWERUPS_2","POWERUPS_3","NOMOREHELP","EOL","GAMEOVER_1","GAMEOVER_2","LEVEL_FAILED","WAIT_LOAD","NAV_L","NAV_R","BTN_INTRO","BTN_TUTORIAL","BTN_POWERUPS","BTN_NOMOREHELP","BTN_EOL_BACK","BTN_EOL_ADVANCE","BTN_MAINMENU","BTN_TRYAGAIN","BTN_FINE","CALC","BASE","PREDICTED_DIST_TO_EMISSIONS","PREDICTED_DIST_TO_FUEL","PREDICTED_FUEL_TO_MONEY","MARGIN","POS","PERCENTAGE","X","Y","DELTA","SLOT","SLOT_GAP","$c6fb81716f95e547$export$d1deab0abf97406d","Phaser","Scene","constructor","super","preload","create","this","add","image","setOrigin","setDepth","button","setInteractive","on","scene","stop","silent","$317c9dbb3332ec43$export$1630b5343357e8b5","API_KEY","API_URL","ASSETS_URL","LOCATIONS","localStorage","getItem","$9f82a1b1aedf650d$export$cdfc51c94f2229e1","NEXT","LEVELS","DATA","GAMEPLAY","current_battery","next_route","selected_route","destinations","Home","icon","icon_out","route","uses","screen_position","x","y","map_url","Supermarket","routes","DESIRED_ROUTES","script_key","script","l","$23acad6f624b1d6c$export$5391a00aef7012c6","launchModal","text","btn","Work","powerups","DESIRED_POWERUPS","Gym","$e40500b969b430be$var$POWERUP_UTILS","decreaseBattery","multiplier","full","visual","battery_full","usable","battery_ref","AUTONOMY_MULTIPLIER","m","displayWidth","frame","width","max_battery_dec","battery_level","Math","round","max_battery","setText","restoreBattery","changeWeather","weather","powerup","prev_weather","data","check","weather_icon","destroy","setVisible","temperature","humidity","restoreWeather","$e40500b969b430be$export$ee29aaa02939b174","Cold","description","visuals","incompatible","apply","DIST_MULTIPLIER","unapply","Heating","requires","Hot","Cooling","$6e0b4cd9f391c156$export$baddb3df286a0284","copy","arrayRemove","array","index","indexOf","splice","roundToDecimals","n","digits","power_of_ten","reposition","map_place","document","getElementById","map_directions","overlay","rect","getElementsByTagName","getBoundingClientRect","style","left","top","map_left","map_top","$23acad6f624b1d6c$export$d893db3635267af4","INIT","CHECK","setupInterface","level","dest_outline","placeDestinationSquare","dest","updateDestDisplay","placePowerUps","selected_powerups","disabled_powerups","p","selected","disabledAtStart","disabled","ACTIVE_POWERUPS","includes","removePowerup","addPowerup","checkPowerups","push","hasRequirements","every","placeRouteBar","route_bar","advanceRouteBar","dist","route_target","autonomy","MAX_AUTONOMY","battery_perc","min","max_width","battery_bar","battery_target","tweens","targets","target","targetKey","targetIndex","totalTargets","tween","duration","ease","Easing","Linear","onUpdate","current","updateBatteryPercentage","onComplete","return","levelCheck","resetRouteBar","placeRouteSlot","openRoutes","closedRoutes","setupBatteryBar","used","perc","checkAndRemoveRoute","curr","next","pop","updateGMapsUrl","visible","goButton","checkAndAddRoute","occupied","checkRouteTouchInput","setupRoutes","pointer","parseInt","wasTouch","rightButtonReleased","setupGoButton","CLICKABLE","apiUrl","getDirectionsUrl","launch","type","url","processInitCall","response","status","distance","s","legs","calc_autonomy","calc_battery","calculated_autonomy","processCheckCall","map","game","hasNextLevel","nextScene","maps","content","parent","segment","shift","waypoints","generateGMapsWaypoints","makeUrlFromWaypoints","mode","api","display","params","$aa8c99519606dc5c$export$4e1dbf9ce77e40c3","init","v","entries","fetch","then","json","timeout","setTimeout","clearTimeout","$3f017834c18bc774$export$adef9963976d40d6","input","mouse","disableContextMenu","i1","$db59580568983b21$export$50427b92ba00a41","load","setBaseURL","urls","r","$abf195ac63d7c0f3$export$fe1abc4519a61930","playButton","renderer","height","optionsButton","hoverSprite","setScale","values","accumulated_distance","next_data","prev_scene","$8074c7c54779a7fc$export$4227f17e596eea7c","filter","page_content","parentScene","m1","grams","fuel","money","btn_back","btn_advance","$f1cb15e7eea9915d$export$a16735c4493187b3","total_dist","modal1","t_dist","t_emissions","t_fuel","r_btn","modal2","l_btn","m2","i2","$9bd60045014388c8$export$f64b5a3894bfe425","Array","isArray","max_page","pages","page_number","multipage","$9e6b6da76182ec5b$export$367d04820ec2adfc","Game","window","addEventListener"],"version":3,"file":"game.d7edbb78.js.map"}